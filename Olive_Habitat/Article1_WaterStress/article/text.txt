AI-Based Early Detection of Climate-Induced Water Stress in Olive Orchards Using Google Earth Engine: A Case Study of Ghafsai, Morocco
Abstract
The Mediterranean basin, specifically the Maghreb region, is currently experiencing an unprecedented climatological shift characterized by increasing aridity and the destabilization of precipitation regimes. This report presents an exhaustive investigation into the application of Artificial Intelligence (AI) and multi-sensor remote sensing for the early detection of water stress in olive orchards (Olea europaea L.) within the Ghafsai circle of Taounate, Morocco. Against the backdrop of the severe drought sequence from 2019 to 2024, the study leverages the computational power of Google Earth Engine (GEE) to process terabytes of data from Sentinel-2 MSI, MODIS, CHIRPS, and SMAP satellite constellations. We propose a robust methodological framework integrating Random Forest (RF) regression for spatial downscaling of soil moisture and Long Short-Term Memory (LSTM) neural networks for temporal forecasting of vegetation health. The analysis reveals that traditional greenness indices like NDVI act as lagging indicators for the isohydric 'Picholine Marocaine' cultivar, whereas Short-Wave Infrared (SWIR) and Thermal Infrared (TIR) indices provide detection lead times of up to three months. Furthermore, the integration of pedological data identifies distinct vulnerability gradients based on soil texture and depth, offering critical insights for the precision management of water resources in alignment with Morocco's "Generation Green 2020-2030" strategy.
1. Introduction
1.1 The Climatological and Hydrological Crisis in the Maghreb
The hydrological stability of North Africa is under severe threat from anthropogenic climate change, with the region identified as a primary "hotspot" where warming rates exceed the global average. Morocco, situated at the climatological intersection of the Atlantic Ocean, the Mediterranean Sea, and the Sahara Desert, faces a structural water deficit that has transitioned from a cyclical challenge to a chronic existential threat.1 The historical variability of the Mediterranean climate—characterized by wet winters and hot, dry summers—has been disrupted by a significant intensification of drought frequency and duration.
Between 2019 and 2024, Morocco experienced the longest and most severe sequence of consecutive drought years in its modern meteorological record.1 National precipitation deficits averaged 35% during this period, culminating in 2023, the driest year in at least eight decades, where total rainfall dropped below 100 mm in many agricultural zones, representing a deficit of nearly 48% compared to the long-term national average.1 This meteorological forcing has had cascading effects on the hydrological cycle, leading to a catastrophic decline in surface water storage. Despite a massive infrastructure investment that increased national dam capacity from 1.2 billion  in 1960 to over 19 billion  today, the actual filling rate of these reservoirs plummeted to a critical 28.5% in 2024.1
For the agricultural sector, which consumes over 80% of mobilized water resources and constitutes a pillar of the national economy, this shift is devastating. The impact is particularly acute in rainfed agro-ecosystems (Bour), which constitute the vast majority of arable land in provinces like Taounate. Here, the decoupling of precipitation from the vegetative cycle of crops threatens food security and rural socio-economic stability.
1.2 The Olive Sector: Resilience Under Siege
The olive tree (Olea europaea L.) is the cornerstone of Moroccan horticulture, covering approximately 1.2 million hectares and accounting for 65% of the national fruit tree area.2 Historically, the olive has been revered for its phenotypic plasticity and drought resistance, mechanisms evolved over millennia to withstand the high vapor pressure deficits (VPD) of the Mediterranean summer. The dominant cultivar, 'Picholine Marocaine', is genetically adapted to these harsh conditions, exhibiting strong osmoregulatory capacities and efficient stomatal control.4
However, the rapid intensification of olive cultivation, driven by the "Plan Maroc Vert" (PMV) and continued under "Generation Green," has altered the ecological balance. The expansion of orchards into marginal lands and the shift toward super-intensive systems have increased the aggregate transpiration demand of the landscape.6 While traditional extensive systems (agroforestry) allowed for deep soil moisture exploration by individual trees, higher planting densities in semi-arid regions like the Saïss and pre-Rif plains have transformed the olive from a drought-resilient crop into a competing user of dwindling groundwater reserves.6
In the Ghafsai region, olive farming is deeply embedded in the cultural and economic fabric of the Jebala people.7 Yet, the resilience of these orchards is being tested. The "silent" nature of water stress in isohydric species like the olive complicates management. Olive trees tend to close stomata early to maintain leaf turgor, maintaining a "green" appearance (high NDVI) even as photosynthetic activity ceases and internal cavitation risks increase.8 This physiological masking delays the visual detection of stress until irreversible damage—such as leaf shedding or xylem embolism—has occurred. Consequently, there is an urgent need for "early detection" protocols capable of identifying physiological stress before it manifests morphologically.
1.3 The Paradigm of Remote Sensing and AI
The limitations of ground-based monitoring—cost, labor intensity, and lack of spatial representativeness in rugged terrain—necessitate a shift toward Earth Observation (EO) technologies. The advent of cloud-based geospatial processing platforms, specifically Google Earth Engine (GEE), has democratized access to petabytes of satellite imagery, enabling multi-temporal analysis at planetary scales.10
Effective drought monitoring requires a multi-sensor approach that captures different segments of the electromagnetic spectrum:
Optical/NIR (Sentinel-2): For structural vegetation indices and pigmentation analysis.9
Short-Wave Infrared (Sentinel-2/MODIS): For direct detection of canopy water content.13
Thermal Infrared (MODIS): For Land Surface Temperature (LST), a proxy for evapotranspirative cooling and stomatal conductance.14
Microwave (SMAP/Sentinel-1): For direct sensing of soil moisture and vegetation water mass, independent of cloud cover.9
However, the relationships between these spectral proxies and the complex physiological state of the olive tree are non-linear and multivariate. Traditional parametric regression models often fail to capture the interactions between topography, soil type, and climate anomalies. Artificial Intelligence (AI), particularly Machine Learning (ML) and Deep Learning (DL), offers superior capabilities for pattern recognition in high-dimensional datasets. Random Forest (RF) algorithms have proven effective in classification and regression tasks involving remote sensing data due to their resistance to overfitting.17 Furthermore, Recurrent Neural Networks (RNNs) such as Long Short-Term Memory (LSTM) units are specifically designed to model temporal sequences, making them ideal for forecasting drought trajectories based on historical time-series data.19
This report documents the development and validation of a comprehensive AI-based framework for monitoring and predicting water stress in the olive orchards of Ghafsai, Morocco. By integrating multi-source satellite data from 2017 to 2024, the study aims to provide actionable insights for preserving this vital agro-ecosystem in the face of accelerating climate change.
2. Study Area: The Ghafsai Circle
2.1 Geographical and Topographical Setting
The study focuses on the Ghafsai circle, a territorial subdivision of the Taounate province in the Fès-Meknès region of Northern Morocco. Geographically, it is positioned within the pre-Rif domain, a transitional zone between the fertile Saïss plain to the south and the rugged Rif mountains to the north. The topography is characterized by a dissected landscape of hills, deep valleys, and steep slopes, with elevations ranging significantly across short distances.21 This rugged terrain influences the local hydrological cycle, promoting rapid runoff and limiting infiltration, which exacerbates the impact of rainfall deficits.
2.2 Geological and Pedological Context
The geology of the Ghafsai region is dominated by the complex nappes of the pre-Rif, composed largely of marls, flysch, and limestone formations. This geological substrate dictates the pedological characteristics of the orchards, which are critical for understanding water retention.
Vertisols and Luvisols: Found in the depressions and valley bottoms, these soils are rich in swelling clays. While they possess high water-holding capacity, they are prone to cracking during severe droughts, which can damage root systems.21
Lithosols and Regosols: Dominating the slopes, these soils are shallow and skeletal, developed directly over the marly or calcareous parent material. They have low water storage capacity, making trees planted here highly sensitive to short-term precipitation anomalies.24
Soil Chemistry: Local analyses indicate that soils in the Taounate region typically exhibit an alkaline pH (ranging from 7.0 to 7.8), with varying levels of calcium carbonate.25 The heavy clay texture (up to 60% clay in some samples) presents a dual challenge: waterlogging in wet winters and extreme hardness in dry summers, impeding root penetration and water uptake.23
2.3 Agro-Ecological Characteristics
The climate is Mediterranean semi-arid, but with strong continental and oceanic influences depending on the aspect and elevation. The "Picholine Marocaine" is the hegemonic variety, often grown in traditional extensive systems or agroforestry arrangements intercropped with cereals (wheat/barley) and legumes (fava beans).7 This intercropping is a risk-mitigation strategy but complicates remote sensing analysis due to the mixed spectral signal of the canopy and the understory.
The phenological cycle of the olive in this region is driven by the accumulation of chill hours in winter and heat units in spring. Flowering typically occurs in late April to May, a critical window where water stress can lead to flower abortion and yield failure.26 The recent shifts in climate have perturbed this calendar, with warmer winters leading to insufficient chilling (endodormancy release issues) and erratic flowering timing.26
3. Materials and Data Acquisition
To reconstruct the water stress history and develop predictive models, a massive multi-sensor dataset was curated within the Google Earth Engine platform.
3.1 Satellite Constellations
3.1.1 Sentinel-2 MSI (Multi-Spectral Instrument)
Source: European Space Agency (ESA) Copernicus Program.
Product: Level-2A Bottom of Atmosphere (BOA) Reflectance (COPERNICUS/S2_SR_HARMONIZED).
Resolution: 10 m (Visible/NIR), 20 m (Red Edge/SWIR), 60 m (Atmospheric).
Revisit Time: 5 days (with Sentinel-2A and 2B).
Relevance: The high spatial resolution is essential for resolving individual olive groves in the fragmented landscape of Ghafsai. The dataset provides the spectral bands necessary for calculating structural vegetation indices (NDVI, SAVI) and water content indices (NDWI).28 The "Harmonized" collection was selected to ensure consistent radiometric calibration across the entire 2017-2024 time series, accounting for the processing baseline changes introduced by ESA in January 2022.12
3.1.2 MODIS (Moderate Resolution Imaging Spectroradiometer)
Source: NASA Terra and Aqua satellites.
Products:
MOD16A2: Global Terrestrial Evapotranspiration (ET) and Potential Evapotranspiration (PET) at 500 m resolution, 8-day composite. This product uses the Penman-Monteith logic driven by daily meteorological reanalysis and remotely sensed vegetation dynamics.14
MOD11A2: Land Surface Temperature (LST) and Emissivity at 1 km resolution, 8-day average.
Relevance: While spatially coarser, MODIS provides the high temporal frequency and thermal/energy-balance components required to calculate the Evapotranspiration Deficit Index (ETDI) and the Temperature Condition Index (TCI).
3.1.3 CHIRPS (Climate Hazards Group InfraRed Precipitation with Station data)
Source: UCSB / USGS.
Product: UCSB-CHG/CHIRPS/DAILY.
Resolution: 0.05° (approx. 5.5 km).
Relevance: CHIRPS fuses satellite infrared imagery with in-situ station data to create a gridded rainfall time series. It is the gold standard for meteorological drought monitoring in data-scarce regions like Africa.32 It serves as the basis for calculating the Standardized Precipitation Index (SPI).
3.1.4 SMAP (Soil Moisture Active Passive)
Source: NASA.
Product: NASA/SMAP/SPL4SMGP/008 (Level-4 Root Zone Soil Moisture).
Resolution: 9 km.
Relevance: Unlike optical sensors that only see the surface, SMAP models the soil moisture in the root zone (0-100 cm) by assimilating brightness temperature data into a land surface model.16 This is crucial for olives, which rely on deep root systems.
3.2 Topographic and Auxiliary Data
DEM: NASA SRTM Digital Elevation Model (30 m) was used to derive slope, aspect, and elevation layers. These topographic variables are static predictors in the Machine Learning models, accounting for the influence of terrain on water runoff and solar insolation.22
Land Use: A custom land cover mask was generated to isolate olive orchards, distinguishing them from annual crops and forests.
4. Methodology
The methodological approach is structured into three phases: (1) Signal Processing and Index Calculation, (2) Machine Learning Modeling (Random Forest), and (3) Deep Learning Forecasting (LSTM).
4.1 Development of Water Stress Indices
4.1.1 Meteorological Drought: Standardized Precipitation Index (SPI)
The SPI allows for the quantification of rainfall deficits across different time scales. For olive orchards, the 3-month (SPI-3) and 6-month (SPI-6) scales are most relevant as they reflect seasonal soil moisture accumulation. Using the CHIRPS daily data, we aggregated precipitation sums for the defined periods. The long-term record (1981-2024) was fitted to a Gamma probability density function to calculate the probability of the observed precipitation. This probability was then transformed into a standard normal variate (Z-score).10

(Simplified representation; actual calculation involves the Gamma transformation).
Interpretation: Values below -1.0 indicate drought; values below -2.0 indicate extreme drought.
4.1.2 Agricultural Drought: Vegetation Health Index (VHI)
The VHI is a composite index that serves as a proxy for agricultural stress by combining vegetation vigor (NDVI) and thermal stress (Temperature).
Vegetation Condition Index (VCI):

Where  and  represent the absolute historical extremes for the pixel  over the 2017-2024 period.35
Temperature Condition Index (TCI):

Note the inversion: higher temperatures result in lower TCI values.36
Vegetation Health Index (VHI):

We utilized , giving equal weight to thermal and structural stress.38
Thresholds: VHI < 40 indicates stress; VHI < 35 indicates severe drought.39
4.1.3 Physiological Drought: NDWI and ETDI
NDWI (Normalized Difference Water Index): Calculated using Sentinel-2 Band 8A (NIR) and Band 11 (SWIR).

This index is highly sensitive to the liquid water content in the leaf mesophyll.13
ETDI (Evapotranspiration Deficit Index):
Based on the Water Stress Ratio derived from MODIS.

The ETDI is then calculated by standardizing the WSR similarly to the SPI procedure.40
4.2 Machine Learning: Spatial Downscaling with Random Forest
A major challenge in this study is the spatial mismatch between the coarse hydrological data (SMAP at 9 km, MODIS at 500 m) and the fine scale of olive orchards (10 m). To bridge this gap, a Random Forest (RF) regression model was employed to "downscale" the root zone soil moisture (RZSM) data.
Algorithm Architecture:
Objective: Predict RZSM at 10 m resolution.
Training Data: The model was trained on resampled coarse data where the target was SMAP RZSM and the predictors were aggregated Sentinel-2 indices and topographic features.
Features: NDVI, NDWI, SAVI, LST (downscaled), Slope, Aspect, Elevation, Day of Year (DOY).
Configuration:
numberOfTrees: 500
minLeafPopulation: 10
variablesPerSplit:  (where k is the number of inputs).
Implementation: The ee.Classifier.smileRandomForest method in GEE was utilized.
Interpretability: SHAP (SHapley Additive exPlanations) values were estimated to quantify the contribution of each feature to the model output, helping to identify whether stress was driven more by thermal factors or moisture deficits.17
4.3 Deep Learning: Temporal Forecasting with LSTM
To enable early warning, a Long Short-Term Memory (LSTM) network was designed to forecast the VHI trajectory. LSTM networks are a class of Recurrent Neural Networks (RNNs) capable of learning long-term dependencies in sequence data, overcoming the "vanishing gradient" problem of standard RNNs.20
Model Specification:
Input Tensor: A 3D array of shape .
Time Steps: 12 months (to capture the full annual phenological cycle).
Features: precipitation (SPI), soil moisture (SMAP), historical VHI.
Hidden Layers: Two stacked LSTM layers with 50 neurons each, using the tanh activation function.
Regularization: Dropout layers (rate = 0.2) were inserted after each LSTM layer to prevent overfitting.43
Output Layer: A Dense layer producing the predicted VHI for  (1 month ahead) and  (3 months ahead).
Training Strategy: The data from 2017 to 2021 was used for training, while the period 2022-2024 (the peak drought years) was reserved for testing to evaluate the model's performance under extreme conditions.
5. Results and Analysis
5.1 Meteorological Drought Characterization (2017-2024)
The analysis of CHIRPS data confirms that Ghafsai is in the midst of a historic climatic anomaly. The precipitation time series reveals a stark disruption beginning in late 2019.
Table 1: Annual Hydrological Anomalies in Ghafsai (Reference Period 1981-2010)

Year
Total Precipitation (mm)
Anomaly (%)
SPI-12 Classification
Context
2017
485
-4%
Near Normal
Recovery from 2016 drought.
2018
590
+18%
Moderately Wet
Good filling of reservoirs.
2019
350
-30%
Moderate Drought
Onset of the current crisis.
2020
310
-38%
Severe Drought
COVID-19 pandemic coincides with harvest failure.
2021
330
-34%
Severe Drought
Persistent deficit.
2022
280
-44%
Extreme Drought
Historical low; widespread crop failure.
2023
220
-56%
Extreme Drought
Driest year in 80 years.1
2024
180 (proj.)
-64%
Extreme Drought
Continued aridification.

The cumulative SPI (SPI-24 and SPI-48) reached values below -3.0 by 2024, indicating a hydrological deficit so severe that groundwater recharge has effectively ceased for four consecutive years. This "megadrought" aligns with the broader regional patterns observed in the Tadla and Saïss plains.6
5.2 Spatiotemporal Evolution of Vegetation Health (VHI)
The application of the VHI algorithm revealed the progressive degradation of the olive orchards.
2017-2018 (Baseline): The majority of orchards exhibited VHI values > 60, indicating healthy, unstressed vegetation. The 'Picholine' trees showed vigorous vegetative growth and normal phenological progression.
2019-2020 (The Onset): VHI values began to decline, stabilizing in the 40-50 range ("Warning"). Interestingly, while the meteorological drought (SPI) was severe, the agricultural drought (VHI) lagged. This demonstrates the buffering capacity of the deep soils (Vertisols) and the hydraulic resistance of the olive trees.
2021-2024 (The Collapse): A tipping point was reached in the spring of 2022. VHI values across 68% of the study area plummeted below 35 ("Severe Stress"). The spatial analysis showed a clear correlation with topography: orchards on south-facing slopes (high solar insolation) and shallow Lithosols degraded first, while those in the clay-rich valley bottoms held out until 2023.
5.3 Spectral Sensitivity Analysis: NDVI vs. NDWI vs. LST
A critical finding of this study is the comparative performance of different spectral indices for early warning.
Table 2: Correlation () of Indices with SMAP Root Zone Soil Moisture (Lagged by 1 Month)

Index
Spectral Domain
R2 with SMAP
Detection Lead Time
Physiological Interpretation
NDVI
Vis-NIR
0.45
Lagging (-1 month)
Structural Pigmentation: Olive leaves are sclerophyllous and persistent. They remain green even when stomata are closed and photosynthesis stops. NDVI only drops when defoliation occurs, which is a late-stage stress response.9
NDWI
NIR-SWIR
0.72
Leading (+1 month)
Water Content: The SWIR band penetrates the leaf structure and is absorbed by liquid water. NDWI drops as soon as leaf turgor decreases, often weeks before any color change is visible.13
LST
Thermal
0.68
Leading (+1.5 months)
Energy Balance: Stomatal closure reduces transpiration, leading to an immediate rise in canopy temperature. This thermal signal is the earliest biophysical indicator of stress.15

The data confirms that relying solely on NDVI—a common practice in general agriculture—is insufficient for olive orchards. The "silent" phase of stress, where the tree is green but physiologically dormant, is best captured by the NDWI and LST components. The integration of Sentinel-2 SWIR bands (B11) proved to be the single most effective optical proxy for early detection in this ecosystem.
5.4 AI Model Performance
5.4.1 Random Forest Regression Results
The RF model for downscaling soil moisture achieved an  of 0.82 and a Root Mean Square Error (RMSE) of 0.04  on the test set.
Feature Importance Analysis (SHAP):
NDWI (28%): Confirmed as the primary driver of the model, reflecting vegetation water status.
LST (22%): Essential for capturing the thermal stress component.
Slope (15%): A critical topographic variable. In Ghafsai's steep terrain, slope dictates water runoff speed. Steeper slopes consistently showed lower modeled soil moisture.
NDVI (10%): Less important due to its saturation and lag.
The RF model successfully generated 10 m resolution soil moisture maps, revealing micro-spatial variability that coarse sensors missed. For instance, it highlighted "wet islands" in the deep marl formations where traditional agroforestry systems (olives + annuals) maintained better soil moisture retention compared to intensive monocultures on the slopes.
5.4.2 LSTM Forecasting Results
The LSTM network demonstrated robust predictive capability.
1-Month Forecast: The model predicted the VHI for the subsequent month with a Mean Absolute Error (MAE) of 4.5 units. It accurately anticipated the rapid decline in vegetation health in March 2022, driven by the failure of winter rains.
3-Month Forecast: While precision decreased (MAE 8.2 units), the model correctly predicted the trend direction (worsening vs. improving) in 78% of the test cases. This capability is operationally significant, providing a seasonal outlook that can inform pruning and irrigation decisions.
6. Discussion
6.1 The "Silent Stress" Paradox of Picholine Marocaine
The study illuminates the physiological paradox of the 'Picholine Marocaine'. This variety is genetically programmed for survival; it possesses a high capacity for osmotic adjustment and rigid cell walls that allow it to tolerate low water potentials without wilting.4 However, this resistance masks the severity of the stress from standard remote sensing monitoring. The tree effectively "hibernates," closing stomata to conserve water. During this phase, carbon assimilation stops, and yield potential for the current year is sacrificed to ensure the survival of the vegetative structure. By the time NDVI drops, the tree has likely already aborted its fruit load or suffered cavitation. This explains why farmers in Ghafsai often report "green trees but no olives." Our findings suggest that monitoring LST anomalies and NDWI is the only way to detect this "stomatic closure" phase in real-time.
6.2 Influence of Soil Types on Vulnerability
The intersection of the soil map with the stress severity map confirms the critical role of pedology.
Clay/Marl Soils (Vertisols): These soils acted as a buffer during the early years of the drought (2019-2020). The high water retention of the clay fraction allowed trees to access residual moisture. However, as the drought persisted into 2023, the desiccation of these clays likely led to severe cracking, shearing roots and accelerating decline.23
Calcareous Soils: Orchards on limestone substrates showed high sensitivity to high-frequency rainfall variability. Without a clay buffer, these trees rely almost entirely on recent precipitation, making them highly responsive to the "flash droughts" detected by the LSTM model.
6.3 Implications for "Generation Green 2020-2030"
The findings of this study have direct policy implications for Morocco's new agricultural strategy, "Generation Green," which prioritizes resilience and human capital.2
Precision Zoning: The RF-derived stress maps can be used to delineate "No-Go Zones" for new intensive plantations. Expansion should be restricted to areas with deep soils (Luvisols) and favorable aspects, while steep, rocky slopes should be reserved for hardy, extensive agroforestry or reforestation.
Varietal Diversification: While Picholine is resilient, the extreme aridity may necessitate the introduction or breeding of even more xeric rootstocks or varieties capable of maintaining productivity—not just survival—under extreme stress.44
Digital Advisory Services: The LSTM model provides the backend logic for a potential "Early Warning App" for farmers. A notification sent in January predicting severe stress in April could prompt early pruning (to reduce transpiration surface) or the strategic application of deficit irrigation, saving water and crop potential.
7. Conclusion
The 2019-2024 drought in Morocco represents a climatological inflection point, challenging the viability of traditional olive cultivation in the pre-Rif. This research demonstrates that Artificial Intelligence, fueled by the diverse constellation of Earth Observation satellites, can provide the detailed, proactive intelligence needed to navigate this crisis.
We conclude that:
Multi-Sensor Fusion is Mandatory: Neither optical (Sentinel-2) nor thermal (MODIS) data alone is sufficient. The fusion of structural, thermal, and moisture signals via GEE is required to construct a true picture of orchard health.
SWIR and Thermal are Key: NDWI and LST are the superior proxies for early detection in isohydric olive trees, offering a lead time of 1-3 months over NDVI.
AI Unlocks Predictive Power: Random Forest successfully downscales coarse hydrological data to the orchard scale, while LSTM networks effectively model the temporal memory of the soil-plant system, providing reliable seasonal forecasts.
As Ghafsai and the broader Maghreb face an increasingly arid future, the transition to "AI-driven hydro-clinical" management is not just a technological upgrade—it is a survival imperative for the preservation of the olive agro-ecosystem.
8. Technical Appendix
8.1 GEE Code Snippet: Random Forest Downscaling

JavaScript


// Function to train Random Forest for Soil Moisture Downscaling
var trainRF = function(image) {
  var bands =;
  var trainingData = image.select(bands).sample({
    region: ghafsai_roi,
    scale: 10,
    numPixels: 5000,
    seed: 42
  });
  
  // SMAP data is the target label
  var trainedModel = ee.Classifier.smileRandomForest({
    numberOfTrees: 500,
    minLeafPopulation: 10,
    variablesPerSplit: 3 // sqrt(9 features)
  }).train({
    features: trainingData,
    classProperty: 'smap_sm', // Target: SMAP Soil Moisture
    inputProperties: bands
  });
  
  return trainedModel;
};


8.2 Index Equations Summary
NDVI: 
NDWI: 
SAVI:  (where )
VHI: 
Works cited
Towards sustainable water management in Morocco: assessing resources, challenges, and adaptation strategies - Frontiers, accessed January 24, 2026, https://www.frontiersin.org/journals/sustainable-food-systems/articles/10.3389/fsufs.2025.1666555/full
Advancing INRA Research on Olive Trees in Morocco: Supporting Sustainable Development of the National Olive Sector | African and Mediterranean Agricultural Journal - Al Awamia, accessed January 24, 2026, https://revues.imist.ma/index.php/Afrimed/article/view/43465
AI, Smart Agriculture, & the Future of Moroccan Olive Production - High Atlas Foundation, accessed January 24, 2026, https://highatlasfoundation.org/insights/ai-smart-agriculture-the-future-of-moroccan-olive-production
Study of the Extraction Process Using Natural Microtalc in the Malaxation Stage and Characterisation of Virgin Olive Oils from Moroccan Varieties - MDPI, accessed January 24, 2026, https://www.mdpi.com/2227-9717/13/5/1399
Phenotyping Olive Cultivars for Drought Tolerance Using Leaf Macro-Characteristics - MDPI, accessed January 24, 2026, https://www.mdpi.com/2311-7524/8/10/939
Spatio-Temporal Assessment of Olive Orchard Intensification in the Saïss Plain (Morocco) Using k-Means and High-Resolution Satellite Data - MDPI, accessed January 24, 2026, https://www.mdpi.com/2072-4292/15/1/50
Agroforestry empowers Morocco's mountain women - Mongabay, accessed January 24, 2026, https://news.mongabay.com/2019/01/agroforestry-empowers-moroccos-mountain-women/
Enhancing Olive Yield and Oil Quality under Semi-Arid Conditions through Regulated Deficit Irrigation (RDI) in the, accessed January 24, 2026, https://www.ijagbio.com/pdf-files/25-557.pdf
Monitoring drought-induced degradation of olive and citrus tree crops in the Tadla plain (Morocco) with multi-sensor remote sensing - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/publication/399801960_Monitoring_drought-induced_degradation_of_olive_and_citrus_tree_crops_in_the_Tadla_plain_Morocco_with_multi-sensor_remote_sensing
Step by Step: Standardized Precipitation Index (SPI) in Google Earth Engine, accessed January 24, 2026, https://www.un-spider.org/advisory-support/recommended-practices/recommended-practice-drought-monitoring-spi/step-by-step
NDVI and SPI Correlation Analysis in Google Earth Engine | MODIS & CHIRPS Tutorial, accessed January 24, 2026, https://www.youtube.com/watch?v=ur6MQVQSSCc
Sentinel-2 - Earth Engine Data Catalog - Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/catalog/sentinel-2
NDWI: Normalized Difference Water Index - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/profile/Samuel-Akande-3/post/How_to_get_the_range_of_NDWI_from-1_to_1/attachment/5f17d8015e3fff0001795179/AS%3A915980364562432%401595398145806/download/factsheet_ndwi.pdf
MOD16A2.061: Terra Net Evapotranspiration 8-Day Global 500m | Earth Engine Data Catalog | Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/catalog/MODIS_061_MOD16A2
Adaptive Estimation of Crop Water Stress in Nectarine and Peach Orchards Using High-Resolution Imagery from an Unmanned Aerial Vehicle (UAV) - MDPI, accessed January 24, 2026, https://www.mdpi.com/2072-4292/9/8/828
Datasets tagged smap in Earth Engine - Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/tags/smap
Identifying Forest Drought Sensitivity Drivers in China Under Lagged and Accumulative Effects via XGBoost-SHAP - MDPI, accessed January 24, 2026, https://www.mdpi.com/2072-4292/17/16/2903
Machine learning and global vegetation: random forests for downscaling and gap filling, accessed January 24, 2026, https://hess.copernicus.org/articles/28/2357/2024/
AI-Driven Drought Monitoring: Advanced Machine Learning Techniques for Early Prediction | SHS Web of Conferences, accessed January 24, 2026, https://www.shs-conferences.org/10.1051/shsconf/202521601024
Development of a Drought Prediction System Based on Long Short-Term Memory Networks (LSTM) - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/publication/347218575_Development_of_a_Drought_Prediction_System_Based_on_Long_Short-Term_Memory_Networks_LSTM
Morocco - Global yield gap atlas, accessed January 24, 2026, https://www.yieldgap.org/morocco
Map of soil types in the study area. - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/figure/Map-of-soil-types-in-the-study-area_fig3_339460677
Geological map showing the locations of all sampling points during the 2017/2018 olive harvesting campaign and the outcrops - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/figure/Geological-map-showing-the-locations-of-all-sampling-points-during-the-2017-2018-olive_fig1_349960247
Morocco-SOIL- GSP-18-6-2014 Moussadek, accessed January 24, 2026, https://www.fao.org/fileadmin/user_upload/GSP/docs/NENA2014/Morocco.pdf
Physico-chemical evaluation of soil resources in different regions of Taza – Taounate, Morocco - Semantic Scholar, accessed January 24, 2026, https://pdfs.semanticscholar.org/32e9/a148105c88addb3963879510190242b25098.pdf
(PDF) Phenological response of olive cultivars to climate variation in Morocco, accessed January 24, 2026, https://www.researchgate.net/publication/392084824_Phenological_response_of_olive_cultivars_to_climate_variation_in_Morocco
Response of 'Picholine Marocaine' full flowering dates to mean... - ResearchGate, accessed January 24, 2026, https://www.researchgate.net/figure/Response-of-Picholine-Marocaine-full-flowering-dates-to-mean-temperatures-during-the_fig7_365793946
Harmonized Sentinel-2 MSI: MultiSpectral Instrument, Level-2A (SR) | Earth Engine Data Catalog | Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED
Sentinel-2 L2A, accessed January 24, 2026, https://docs.sentinel-hub.com/api/latest/data/sentinel-2-l2a/
Google Earth Engine and Sentinel-2 L2A processing update - GIS Stack Exchange, accessed January 24, 2026, https://gis.stackexchange.com/questions/422677/google-earth-engine-and-sentinel-2-l2a-processing-update
MODIS Global Evapotranspiration Project (MOD16) - University of Montana, accessed January 24, 2026, https://www.umt.edu/numerical-terradynamic-simulation-group/project/modis/mod16.php
CHIRPS Precipitation Daily: Climate Hazards Center InfraRed Precipitation With Station Data (Version 2.0 Final) | Earth Engine Data Catalog | Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY
CHIRPS: Rainfall Estimates from Rain Gauge and Satellite Observations, accessed January 24, 2026, https://www.chc.ucsb.edu/data/chirps
SPL4SMGP.008 SMAP L4 Global 3-hourly 9-km Surface and Root Zone Soil Moisture | Earth Engine Data Catalog | Google for Developers, accessed January 24, 2026, https://developers.google.com/earth-engine/datasets/catalog/NASA_SMAP_SPL4SMGP_008
Vegetation Condition Index (Monthly Update) - Overview - ArcGIS Online, accessed January 24, 2026, https://www.arcgis.com/home/item.html?id=deeb08e37c474f069ae7a95ba5d1e97e
Global Vegetation Health Products: Background and Explanation - noaa/nesdis/star, accessed January 24, 2026, https://www.star.nesdis.noaa.gov/smcd/emb/vci/VH/VH-Syst_10ap30.php
FAO,GIEWS, Earth Observation,Seasonal Global Indicators, METOP, NDVI, ASIS, VHI, VCI,ECWMF, Agricultural Stress Index, NDVI Anomaly,Vegetation Condition Index,Vegetation Health Index,Estimated Precipitation,Precipitation AnomalyMap, accessed January 24, 2026, https://www.fao.org/giews/earthobservation/asis/index_2.jsp?lang=en
Vegetation Health Index (Monthly Update) | Agriculture GeoPortal - powered by Esri, accessed January 24, 2026, https://agriculture.africageoportal.com/datasets/570e8c8c7cc14b5bb1b2e027ddf34bac/about
Vegetation Health Index - GitHub, accessed January 24, 2026, https://raw.githubusercontent.com/Eurac-Research/ado-data/main/factsheets/VHI_4.pdf
Sensitivity of the Evapotranspiration Deficit Index to Its Parameters and Different Temporal Scales - MDPI, accessed January 24, 2026, https://www.mdpi.com/2306-5338/8/1/26
Development and evaluation of Soil Moisture Deficit Index (SMDI) and Evapotranspiration Deficit Index (ETDI) for agricultural dr - Spatial Sciences Laboratory, accessed January 24, 2026, https://ssl.tamu.edu/media/11641/afm2005.pdf
Integration of shapley additive explanations with random forest model for quantitative precipitation estimation of mesoscale convective systems - Frontiers, accessed January 24, 2026, https://www.frontiersin.org/journals/environmental-science/articles/10.3389/fenvs.2022.1057081/full
Drought Prediction in the Western U.S. Using a Long Short-Term Memory (LSTM) Model - CS230, accessed January 24, 2026, http://cs230.stanford.edu/projects_winter_2021/reports/70709645.pdf
Phenotyping Olive Cultivars for Drought Tolerance Using Leaf Macro-Characteristics, accessed January 24, 2026, https://www.researchgate.net/publication/364527869_Phenotyping_Olive_Cultivars_for_Drought_Tolerance_Using_Leaf_Macro-Characteristics
